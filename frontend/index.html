<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compass Bank ‚Äî Your Financial Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="bank-app">
    <!-- Top Navigation Bar -->
    <header class="bank-header">
      <div class="header-container">
        <div class="bank-logo">
          <div class="logo-icon">‚óà</div>
          <span class="logo-text">Compass Bank</span>
        </div>

        <nav class="main-nav">
          <a href="#accounts" class="nav-link active">Accounts</a>
          <a href="#activity" class="nav-link">Activity</a>
          <a href="#goals" class="nav-link">Goals</a>
          <a href="#budget" class="nav-link">Budget</a>
        </nav>

        <div class="header-actions">
          <button class="btn-icon" title="Notifications">
            <span>üîî</span>
          </button>
          <div class="user-menu">
            <div class="user-avatar">S</div>
            <span class="user-name">Sarah Chen</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Banking Dashboard -->
    <main class="bank-main">
      <div class="dashboard-container">

        <!-- Welcome Section -->
        <section class="welcome-section">
          <div class="welcome-content">
            <h1 class="welcome-title">Good morning, Sarah</h1>
            <p class="welcome-subtitle">Here's your financial overview</p>
          </div>
          <div class="welcome-actions">
            <button class="btn-transfer" onclick="showTransferModal()">
              <span class="btn-icon">‚áÑ</span>
              Transfer Money
            </button>
            <button class="btn-icon-only" onclick="refreshDashboard()" title="Refresh">
              <span>‚Üª</span>
            </button>
          </div>
        </section>

        <!-- Accounts Section -->
        <section class="accounts-section" id="accounts">
          <h2 class="section-title">Accounts</h2>

          <div class="accounts-grid">
            <!-- Checking Account -->
            <div class="account-card checking-account">
              <div class="account-header">
                <div>
                  <span class="account-type">Checking</span>
                  <span class="account-number">...1234</span>
                </div>
                <span class="account-icon">üí≥</span>
              </div>
              <div class="account-balance">
                <span class="balance-amount" id="checking-balance">$3,000.00</span>
                <span class="balance-label">Available Balance</span>
              </div>
              <div class="account-footer">
                <button class="account-action" onclick="quickTransfer('checking')">Transfer</button>
                <button class="account-action" onclick="viewDetails('checking')">Details</button>
              </div>
            </div>

            <!-- Savings Account -->
            <div class="account-card savings-account">
              <div class="account-header">
                <div>
                  <span class="account-type">Savings</span>
                  <span class="account-number">...5678</span>
                </div>
                <span class="account-icon">üè¶</span>
              </div>
              <div class="account-balance">
                <span class="balance-amount" id="savings-balance">$8,000.00</span>
                <span class="balance-label">Available Balance</span>
              </div>
              <div class="account-footer">
                <button class="account-action" onclick="quickTransfer('savings')">Transfer</button>
                <button class="account-action" onclick="viewDetails('savings')">Details</button>
              </div>
            </div>

            <!-- Investment Account -->
            <div class="account-card investment-account">
              <div class="account-header">
                <div>
                  <span class="account-type">Investment</span>
                  <span class="account-number">...9012</span>
                </div>
                <span class="account-icon">üìà</span>
              </div>
              <div class="account-balance">
                <span class="balance-amount" id="investments-balance">$5,000.00</span>
                <span class="balance-label">Total Value</span>
              </div>
              <div class="account-footer">
                <button class="account-action" onclick="quickTransfer('investment')">Add Funds</button>
                <button class="account-action" onclick="viewDetails('investment')">Details</button>
              </div>
            </div>

            <!-- Total Assets Card -->
            <div class="account-card total-assets-card">
              <div class="account-header">
                <span class="account-type">Total Assets</span>
                <span class="account-badge positive">+2.3%</span>
              </div>
              <div class="account-balance">
                <span class="balance-amount large" id="total-assets">$16,000.00</span>
                <span class="balance-label">Combined Balance</span>
              </div>
              <div class="assets-chart">
                <div class="chart-bar checking" style="width: 18.75%" title="Checking: 18.75%"></div>
                <div class="chart-bar savings" style="width: 50%" title="Savings: 50%"></div>
                <div class="chart-bar investment" style="width: 31.25%" title="Investment: 31.25%"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- Financial Goals Section -->
        <section class="goals-section" id="goals">
          <div class="section-header">
            <h2 class="section-title">Financial Goals</h2>
            <button class="btn-text" onclick="showAddGoalModal()">
              <span>+</span> Add Goal
            </button>
          </div>

          <div class="goals-grid" id="goals-list">
            <!-- Populated by JavaScript -->
          </div>
        </section>

        <!-- Budget Overview Section -->
        <section class="budget-section" id="budget">
          <div class="section-header">
            <h2 class="section-title">Budget This Month</h2>
            <a href="#" class="btn-text" onclick="switchView('budget')">View All ‚Üí</a>
          </div>

          <div class="budget-overview">
            <div class="budget-summary-card">
              <div class="budget-ring-container">
                <svg class="budget-ring" viewBox="0 0 100 100">
                  <circle cx="50" cy="50" r="40" class="ring-bg"/>
                  <circle cx="50" cy="50" r="40" class="ring-progress" id="budget-progress"/>
                </svg>
                <div class="ring-center">
                  <span class="ring-value" id="budget-percent">0%</span>
                  <span class="ring-label">spent</span>
                </div>
              </div>
              <div class="budget-info">
                <div class="budget-stat">
                  <span class="stat-label">Spent</span>
                  <span class="stat-value" id="budget-spent">$0</span>
                </div>
                <div class="budget-stat">
                  <span class="stat-label">Budget</span>
                  <span class="stat-value" id="budget-total">$750</span>
                </div>
                <div class="budget-stat">
                  <span class="stat-label">Remaining</span>
                  <span class="stat-value positive" id="budget-remaining">$750</span>
                </div>
              </div>
            </div>

            <div class="budget-categories-preview" id="budget-categories-preview">
              <!-- Top 3 categories populated by JS -->
            </div>
          </div>
        </section>

        <!-- Quick Insights Section -->
        <section class="insights-section">
          <div class="insight-card" id="monthly-surplus-card">
            <div class="insight-icon">üí∞</div>
            <div class="insight-content">
              <span class="insight-label">Monthly Surplus</span>
              <span class="insight-value" id="monthly-surplus">$2,250</span>
              <span class="insight-description">Available after expenses</span>
            </div>
          </div>

          <div class="insight-card" id="investment-reminder-card">
            <div class="insight-icon">üí°</div>
            <div class="insight-content">
              <span class="insight-label">Smart Suggestion</span>
              <p class="insight-message" id="reminder-message">Loading...</p>
              <button class="btn-link" onclick="openAdvisor()">Ask Advisor ‚Üí</button>
            </div>
          </div>
        </section>

      </div>
    </main>

    <!-- Floating Advisor Widget Button -->
    <button class="advisor-widget-btn" id="advisor-widget-btn" onclick="toggleAdvisor()">
      <span class="widget-icon">üí¨</span>
      <span class="widget-label">Financial Advisor</span>
    </button>

    <!-- Advisor Modal/Drawer -->
    <div class="advisor-modal" id="advisor-modal">
      <div class="advisor-overlay" onclick="closeAdvisor()"></div>
      <div class="advisor-panel">
        <div class="advisor-header">
          <div class="advisor-title">
            <span class="advisor-icon">‚óà</span>
            <div>
              <h3>AI Financial Advisor</h3>
              <p class="advisor-subtitle">Your personal finance assistant</p>
            </div>
          </div>
          <div class="advisor-controls">
            <button id="mode-toggle" class="mode-toggle" onclick="toggleAnalysisMode()" title="Toggle analysis speed">
              <span class="mode-icon">‚ö°</span>
              <span class="mode-label">Quick</span>
            </button>
            <button class="btn-close" onclick="closeAdvisor()">√ó</button>
          </div>
        </div>

        <div class="advisor-chat">
          <div class="chat-messages" id="chat-messages">
            <div class="message assistant">
              <div class="message-avatar">‚óà</div>
              <div class="message-content">
                <p>Hi Sarah! I'm your AI financial advisor. I can help you:</p>
                <ul>
                  <li>Make smart decisions about saving and investing</li>
                  <li>Compare different financial options</li>
                  <li>Track progress toward your goals</li>
                  <li>Stay on budget while reaching your targets</li>
                </ul>
                <p>What would you like to explore today?</p>
              </div>
            </div>
          </div>

          <div class="chat-suggestions" id="chat-suggestions">
            <button class="suggestion" onclick="sendSuggestion('Should I save $500 or invest it?')">
              üí∞ Save or invest $500?
            </button>
            <button class="suggestion" onclick="sendSuggestion('Move money from checking to savings')">
              ‚áÑ Transfer money
            </button>
            <button class="suggestion" onclick="sendSuggestion('How are my goals doing?')">
              üéØ Check goal progress
            </button>
          </div>

          <form class="chat-input-form" onsubmit="sendMessage(event)">
            <input
              type="text"
              id="message-input"
              class="chat-input"
              placeholder="Ask me anything about your finances..."
              autocomplete="off"
            >
            <button type="submit" class="btn-send" id="send-btn">
              <span class="send-icon">‚Üí</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Transfer Modal -->
    <div id="transfer-modal" class="modal" style="display: none;">
      <div class="modal-backdrop" onclick="hideTransferModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Transfer Money</h2>
          <button class="modal-close" onclick="hideTransferModal()">√ó</button>
        </div>
        <div class="modal-body">
          <p class="modal-description">Use the AI Advisor for smart transfers with insights</p>
          <button class="btn-primary btn-block" onclick="hideTransferModal(); openAdvisor('transfer money')">
            <span>üí¨</span> Ask Advisor to Help
          </button>
        </div>
      </div>
    </div>

    <!-- Add Goal Modal -->
    <div id="add-goal-modal" class="modal" style="display: none;">
      <div class="modal-backdrop" onclick="hideAddGoalModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Create New Goal</h2>
          <button class="modal-close" onclick="hideAddGoalModal()">√ó</button>
        </div>
        <form id="add-goal-form" onsubmit="createGoal(event)">
          <div class="form-group">
            <label for="goal-name">Goal Name</label>
            <input type="text" id="goal-name" placeholder="e.g., New Car, Vacation" required>
          </div>
          <div class="form-group">
            <label for="goal-amount">Target Amount ($)</label>
            <input type="number" id="goal-amount" placeholder="10000" min="1" required>
          </div>
          <div class="form-group">
            <label for="goal-current">Current Amount ($)</label>
            <input type="number" id="goal-current" placeholder="0" min="0" value="0">
          </div>
          <div class="form-group">
            <label for="goal-deadline">Target Date</label>
            <input type="date" id="goal-deadline" required>
          </div>
          <div class="form-group">
            <label for="goal-priority">Priority (1-10)</label>
            <input type="number" id="goal-priority" placeholder="5" min="1" max="10" value="5">
          </div>
          <div class="modal-actions">
            <button type="button" class="btn-secondary" onclick="hideAddGoalModal()">Cancel</button>
            <button type="submit" class="btn-primary">Create Goal</button>
          </div>
        </form>
      </div>
    </div>

  </div>

  <script src="app.js"></script>
</body>
</html>
